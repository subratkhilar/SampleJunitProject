<div ng-include="'templates/header.html'" ng-init="initProjects()">
</div>
<div id="page-content-wrapper">
	<div class="container-fluid">
		<div class="row">
			<div class="col-lg-12">
				<div class="page-title color1 font27">Project Configuration</div>

				<!-- seelect tag start from here -->

				<div class="textcenter">
					<div class="select_join font14">
	
					</div>
					<div class="height20"></div>
				</div>



				<div id="table-part">
					<script>
                        $(document).ready(function () {
                            $('#j_table').DataTable({
                                "bLengthChange": false
                            });
                        });
                    </script>

					<div>
						<div class="floatL">
							<button class="btn btn-primary addproject" data-toggle="modal"
								data-target="#centralModalSm_for_addProject"
								data-whatever="@mdo" data-backdrop="static" data-keyboard="false" 
								>+ Add Project</button>
						</div>
						<div class="wrap floatR" class="search_bar">
							<!--	<div class="iotsearch bgcolorWht">
				<span class="iotsearchicon"><i class="fa fa-search color2"></i></span><input type="text" ng-model="search_by_text" id="iotsearchinput font14" placeholder="search project">
				
			</div> -->
						</div>
						<div class="clear"></div>
					</div>

					<br>
					<!-- Central Modal for add_project -->

					<div class="modal fade" id="centralModalSm_for_addProject"
						tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
						aria-hidden="true " ng-controller="config_controller">
						<div class="modal-dialog" role="document">
							<!--Content-->
							<div class="modal-content">
								<!--Header-->
								<div class="modal-header">
									<h4 class="modal-title font22 color9" id="myModalLabel">Add
										Project</h4>
									<button type="button" class="close" data-dismiss="modal"
										aria-label="Close"  ng-click="reset_form()">
										<span aria-hidden="true">&times;</span>
									</button>
								</div>
								<!--Body-->
								<form name="myForm" id="myForm" novalidate>

									<div class="modal-body">
										<div class="font14 iotaddconfig">

											<div ng-show="submitFailed" class="errorLogin">
												<span class="error"> {{addformError}} </span>
											</div>

											<div class="form-group">
												<label for="projectID">Project ID:<span class="color7">*</span></label> <input
													type="text" class="form-control" id="projectID"
													ng-model="projectId" placeholder="Project ID"
													name="projectID" maxlength="30" required>
												<div class="clear"></div>
											</div>

											<div class="form-group">
												<label for="projectname">Project Name:<span class="color7">*</span></label> <input
													type="text" class="form-control" id="projectname"
													ng-model="projectName" placeholder="Project Name"
													name="projectname" maxlength="40" required>
												<div class="clear"></div>
											</div>
											
												<div class="form-group">
												<label for="projectdesc" class="descp">Project
													Description:</label>
												<textarea class="form-control" rows="3" id="projectdesc"
													ng-model="projectDescription"
													placeholder="Project Description" name="projectdesc" maxlength="100"></textarea>
												<div class="clear"></div>
											</div>
											
											<div class="form-group" >
												<label for="linktoasset">Project Admin:<span class="color7">*</span></label> <select
													id="usr" ng-model="customerID" class="form-control"
													name="linktoCustomer"
													ng-options="customer.customerID as customer.customerName for customer in customers"
													required>
													<option value="">Select Project Admin</option>

												</select>
												<div class="clear"></div>
											</div>
											<div class="form-group">
												<label for="projectlocation">Project Location:<span class="color7">*</span></label> <input
													type="text" class="form-control" id="projectlocation"
													ng-model="projectLocation" placeholder="Project Location"
													name="projectlocation" required>
												<div class="clear"></div>
											</div>

										

											<div class="form-group">
												<label for="latitude">Latitude:<span class="color7">*</span></label> <input type="text"
													class="form-control" id="latitude" ng-model="latitude"
													placeholder="Enter Latitude" name="latitude" required>
												<div class="clear"></div>
											</div>

											<div class="form-group">
												<label for="longitude">Longitude:<span class="color7">*</span></label> <input type="text"
													class="form-control" id="longitude" ng-model="longitude"
													placeholder="Enter Longitude" name="longitude" required>
												<div class="clear"></div>
											</div>

											<div class="form-group">
												<label>&nbsp;</label>
												<button type="button" class="btn btn-secondary cancel" data-dismiss="modal"  ng-click="reset_form()">Cancel</button>
												<button type="submit" class="btn btn-primary add" data-target="#centralModalSuccess_for_add" data-whatever="@mdo" ng-disabled="myForm.$invalid"
												 ng-click="pass_data()">Add</button>
												<div class="clear"></div>
											</div>

										</div>
									</div>
								</form>

								<!--Footer-->

							</div>
							<!--/.Content-->
						</div>
					</div>
					<!-- Modal -->



					<!-- Central Modal Medium Success -->
					<div class="modal fade" id="centralModalSuccess_for_add"
						tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
						aria-hidden="true">
						<div class="modal-dialog-msg modal-notify modal-success"
							role="document">
							<!--Content-->
							<div class="modal-content">
								<!--Header-->
								<!--  <div class="modal-header">
                <p class="heading lead">Modal Success</p>

                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true" class="white-text">&times;</span>
                </button>
            </div>
            -->

								<!--Body-->
								<div class="modal-body">
									<div class="text-center">
										<i class="fa fa-check-circle fa-4x mb-3 animated color14"></i>
										<!--<i class="fa fa-check-circle" ></i> -->
										<p class="font16 successmsg">Project Added Successfully.</p>
									</div>
								</div>

								<!--Footer-->
								<div class="okbtn">
									<!-- <a type="button" class="btn btn-primary-modal">Get it now <i class="fa fa-diamond ml-1"></i></a> -->
									<a type="button" class="btn" data-dismiss="modal"
										ng-click=" reloadPage()">Ok</a>
								</div>
							</div>
							<!--/.Content-->
						</div>
					</div>
					<!-- Central Modal Medium Success-->




					<!-- Central Modal for Edit_project -->

					<div class="modal fade" id="centralModalSm_for_editProject"
						tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
						aria-hidden="true ">
						<div class="modal-dialog" role="document">
							<!--Content-->
							<!-- 
        <form ng-controller="config_controller" ng-submit="pass_edited_data(projectId,projectName1,projectLocation1,projectDescription1,latitude1,longitude1)"> -->
							<div class="modal-content">
								<!--Header-->
								<div class="modal-header">
									<h4 class="modal-title font22 color9" id="myModalLabel">Edit
										Project</h4>
									<button type="button" class="close" data-dismiss="modal"
										aria-label="Close" ng-click=" reloadPage1()">
										<span aria-hidden="true">&times;</span>
									</button>
								</div>
								<!--Body-->


								<form name="myFormEdit" novalidate>

									<div class="modal-body">
										<div class="font14 iotaddconfig">

											<div ng-show="submitFailed" class="errorLogin">
												<span class="error"> {{formError}} </span>
											</div>

											<div class="form-group">
												<label for="project_detail_modal_edit1">Project ID:<span class="color7">*</span></label>
												<input type="text" class="form-control"
													id="project_detail_modal_edit1" 
													disabled required="required" value="{{a.projectId}}" >
												<div class="clear"></div>
											</div>

											<div class="form-group">
												<label for="project_detail_modal_edit2">Project
													Name:<span class="color7">*</span></label> <input type="text" class="form-control"
													id="project_detail_modal_edit2" 
													required="required" maxlength="40" value="{{a.projectName}}">
												<div class="clear"></div>
											</div>
																<div class="form-group">
												<label for="project_detail_modal_edit1">Project Admin</label>
												<input type="text" class="form-control"
													id="project_detail_modal_edit1" 
													disabled required="required" ng-value="userNameEdit" >
												<div class="clear"></div>
											</div>
													<div class="form-group" >
												<label for="linktoasset">Edit Project Admin:<span class="color7">*</span></label> <select
													id="usr" ng-model="customerIDEdit " class="form-control"
													name="linktoCustomer"
												
													ng-options="customer.customerID as customer.customerName for customer in customers" ng-change="onChangeProjectAdmin();"
													required>
													<option value="">Select Project Admin</option>

												</select>
												<div class="clear"></div>
											</div>


											<div class="form-group">
												<label for="project_detail_modal_edit3">Project
													Location:<span class="color7">*</span></label> <input type="text" class="form-control"
													id="project_detail_modal_edit3"
													 required="required" maxlength="30" value="{{a.projectLocation}}"> </input>
												<div class="clear"></div>
											</div>

											<div class="form-group">
												<label for="project_detail_modal_edit4" class="descp">Project
													Description:</label>
												<textarea class="form-control" rows="3"
													id="project_detail_modal_edit4"
													 required="required"  maxlength="100" > {{a.projectDescription}} </textarea>
												<div class="clear"></div>
											</div>

											<div class="form-group">
												<label for="project_detail_modal_edit6">Latitude:<span class="color7">*</span></label> <input
													type="text" class="form-control"
													id="project_detail_modal_edit6" 
													required="required" value="{{a.latitude}}"> </input>
												<div class="clear"></div>
											</div>

											<div class="form-group">
												<label for="longitude">Longitude:<span class="color7">*</span></label> <input type="text"
													class="form-control" id="project_detail_modal_edit5"
												 required="required" 	value="{{a.longitude}}"> </input>
												<div class="clear"></div>
											</div>

											<div class="form-group">
												<label>&nbsp;</label>
												<button type="button" class="btn btn-secondary cancel"
													data-dismiss="modal" ng-click="reloadPage1()">Cancel</button>
												<button type="submit" class="btn btn-primary add"
													data-target="#centralModalSuccess_for_edit"
													data-whatever="@mdo" ng-click="pass_edited_data(a)">Update</button>
												<div class="clear"></div>
											</div>
										</div>
									</div>
								</form>
							</div>
							<!--Content-->
						</div>
					</div>

					<!-- Modal -->





					<!-- Central Modal Medium for update Success -->
					<div class="modal fade" id="centralModalSuccess_for_edit"
						tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
						aria-hidden="true">
						<div class="modal-dialog-msg modal-notify modal-success"
							role="document">
							<!--Content-->
							<div class="modal-content">
								<!--Header-->
								<!--  <div class="modal-header">
                <p class="heading lead">Modal Success</p>

                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true" class="white-text">&times;</span>
                </button>
            </div>
            -->

								<!--Body-->
								<div class="modal-body">
									<div class="text-center">
										<i class="fa fa-check-circle fa-4x mb-3 animated color14"></i>
										<!--<i class="fa fa-check-circle" ></i> -->
										<p class="font16 successmsg">Project Updated Successfully.</p>
									</div>
								</div>

								<!--  Footer -->
								<div class="okbtn">
									<!--  <a type="button" class="btn btn-primary-modal">Get it now <i class="fa fa-diamond ml-1"></i></a> -->
									<a type="button" class="btn" data-dismiss="modal"
										ng-click="reloadPage()">Ok</a>
								</div>
							</div>
							<!-- /.Content -->
						</div>
					</div>
					<!-- Central Modal Medium Success-->






					<div class="modal fade" id="model_for_confirm_delete" tabindex="-1"
						role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
						<div class="modal-dialog-msg modal-notify modal-success"
							role="document">
							<!--Content-->
							<div class="modal-content">
								<!--Header-->
								<!--  <div class="modal-header">
                <p class="heading lead">Modal Success</p>

                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true" class="white-text">&times;</span>
                </button>
            </div>
            -->

								<!--Body-->
								<div class="modal-body">
									<div class="text-center">
										<i class="fa  fa-trash-o font32 color7 trash "></i>
										<!--<i class="fa fa-check-circle" ></i> -->
										<p class="font16 successmsg">Are you sure want to delete
											{{project_name_for_delete}}</p>
									</div>
								</div>

								<!--Footer-->
								<div class="form-group textcenter">
									<a type="submit" class="btn btn-secondary no"
										data-dismiss="modal">No
										</button> <a type="submit" class="btn btn-primary yes"
										data-dismiss="modal" ng-click="delete_button()"
										data-whatever="@mdo" data-toggle="modal"
										data-target="#centralModalSuccess_for_delete">Yes</a>
										<div class="clear"></div>
								</div>

							</div>
							<!--/.Content-->
						</div>
					</div>
					<!-- Central Modal Medium Success-->





					<!-- Central Modal Medium for update Success -->
					<div class="modal fade" id="centralModalSuccess_for_delete_true" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
					 aria-hidden="true">
						<div class="modal-dialog-msg modal-notify modal-success" role="document">
							<!--Content-->
							<div class="modal-content">
								<!--Header-->
								<!--  <div class="modal-header">
                <p class="heading lead">Modal Success</p>

                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true" class="white-text">&times;</span>
                </button>
            </div>
            -->

								<!--Body-->
								<div class="modal-body">
									<div class="text-center">
										<i class="fa fa-check-circle fa-4x mb-3 color14 animated rotateIn"></i>
										<!--<i class="fa fa-check-circle" ></i> -->
										<p class="font16 successmsg">{{project_name_for_delete_true}} Inactivated Successfully.</p>
									</div>
								</div>

								<!--Footer-->
								<div class="okbtn">
									<a type="button" class="btn" data-dismiss="modal" ng-click=" reloadPage()">Ok</a>
								</div>
							</div>
							<!--/.Content-->
						</div>
					</div>
					<!-- Central Modal Medium Success-->


					<!-- Central Modal Medium for update Success -->
					<div class="modal fade" id="centralModalSuccess_for_delete_false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
					 aria-hidden="true">
						<div class="modal-dialog-msg modal-notify modal-success" role="document">
							<!--Content-->
							<div class="modal-content">
								<!--Header-->
								<!--  <div class="modal-header">
                <p class="heading lead">Modal Success</p>

                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true" class="white-text">&times;</span>
                </button>
            </div>
            -->

								<!--Body-->
								<div class="modal-body">
									<div class="text-center">
										<i
											class="fa fa-check-circle fa-4x mb-3 color14 animated rotateIn"></i>
										<!--<i class="fa fa-check-circle" ></i> -->
										<p class="font16 successmsg">{{project_name_for_delete_false}} Activated Successfully.</p>
									</div>
								</div>

								<!--Footer-->
								<div class="okbtn">
									<a type="button" class="btn" data-dismiss="modal"
										ng-click=" reloadPage()">Ok</a>
								</div>
							</div>
							<!--/.Content-->
						</div>
					</div>
					<!-- Central Modal Medium Success-->





					<div class="table-responsive marginTS">

						<table id="j_table" datatable="ng" class="display font14"
							style="background-color: #fff !important;" cellspacing="0"
							width="100%">


							<thead>
								<tr class="css_for_th font22">

							<td colspan="9">All Projects</td>

						</tr>
								<tr>
									<td style="display:none;">{{$index+1}}</td>
									<th>Date</th>
									
									<th>Project ID</th>
									<th>Project Name</th>
									<th>Project Location</th>
									<th>Project Description</th>
									<th>Status</th>
									<th>Latitude</th>
									<th>Longitude</th>
									<th>Actions</th>
								</tr>
							</thead>

							<tbody>
								<tr
									ng-repeat=" project_json_data in  project_details | filter:search_by_text ">
									
									<!-- | filter:{projectId: selected_project_id.projectId}  | filter:{projectName: selected_project_name.projectName} | filter:{active: selected_project_status.active} | filter:{projectLocation: selected_project_location.projectLocation} -->
									<td style="display:none;">{{$index+1}}</td>
									<td>{{project_json_data.createdDate|date:'MM-dd-yyyy'}}</td>
									
									<td>{{project_json_data.projectId}}</td>
									<td>{{project_json_data.projectName}}</td>
									<td>{{project_json_data.projectLocation}}</td>
									<td >{{project_json_data.projectDescription}}</td>
									<td>
										<div ng-if="project_json_data.active" class="color13">{{project_json_data.active?'Active':''}}</div>
										<div ng-if! "project_json_data.active" class="cri">{{project_json_data.active?'':' Inactive'}}</div>

									</td>
									<td>{{project_json_data.latitude}}</td>
									<td>{{project_json_data.longitude}}</td>
									<td>
										<div>
											<div style="padding: 2px 7px 0 0;" data-toggle="modal" data-target="#centralModalSm_for_editProject" data-backdrop="static"
											  data-keyboard="false" ng-click="edit_button(project_json_data)">
												<i class="fa  fa-edit font25 color14 edit floatL "></i>
											</div>


											<!-- 	<span ><i class="fa  fa-trash-o font25 color7 trash"  ng-click="delete_button(workflow_data);deleteWorkflow();reloadPage();"></i></span> -->
											<div class="floatL">
												<button ng-if="project_json_data.active == true" type="button" ng-click="delete_button(project_json_data);" class="btn btn-sm btn-secondary btn-toggle active"
												 data-toggle="button" aria-pressed="true" autocomplete="off">
											<div class="handle"></div>

										</button>

												<button ng-if="project_json_data.active == false" type="button" id="sensorToggle" ng-click="delete_button_false(project_json_data)"
												 class="btn btn-sm btn-secondary btn-toggle" data-toggle="button" aria-pressed="true" autocomplete="off">
											<div class="handle"></div>

										</button>

											</div>
										</div>
									</td>
								</tr>



							</tbody>
						</table>

					</div>

				</div>

				<!-- table content end here -->

			</div>
		</div>
	</div>	
	<div class="height20"></div>
	<!-- /#page-content-wrapper -->
	<div ng-include="'templates/footer.html'"></div>
</div>